{"version":3,"sources":["Persons.js","PersonForm.js","Filter.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","persons","handleDelete","map","person","key","name","number","onClick","id","PersonForm","onSubmitAction","onChangeName","onChangeNumber","onSubmit","value","onChange","type","Filter","filter","onChangeAction","Notification","message","className","getAll","axios","get","then","response","data","create","newObject","a","request","post","update","put","deleteItem","window","confirm","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","showAll","setShowAll","newFilter","setNewFilter","notification","setNotification","useEffect","personsService","personsData","personsToShow","includes","toLowerCase","evt","target","preventDefault","newPerson","some","item","existingPerson","find","concat","setTimeout","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAWeA,EATC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAC1B,OACED,EAAQE,KACN,SAACC,GAAD,OACE,uBAAGC,IAAKD,EAAOE,MAAOF,EAAOE,KAA7B,IAAoCF,EAAOG,OAA3C,IAAmD,4BAAQC,QAAS,kBAAMN,EAAaE,EAAOK,GAAIL,EAAOE,QAAtD,eCY5CI,EAhBI,SAAC,GAAoE,IAAlEC,EAAiE,EAAjEA,eAAgBL,EAAiD,EAAjDA,KAAMM,EAA2C,EAA3CA,aAAcL,EAA6B,EAA7BA,OAAQM,EAAqB,EAArBA,eAChE,OACE,0BAAMC,SAAUH,GACd,sCACQ,2BAAOI,MAAOT,EAClBU,SAAUJ,KAEd,wCAAa,2BAAOG,MAAOR,EACzBS,SAAUH,KACZ,6BACE,4BAAQI,KAAK,UAAb,UCHOC,EAPA,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,eACxB,OACE,kDAAuB,2BAAOL,MAAOI,EACnCH,SAAUI,MCkBDC,EArBM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASL,EAAW,EAAXA,KAC7B,MAAgB,KAAZK,EACK,KAEI,UAATL,EAEE,yBAAKM,UAAS,iBACbD,GAOL,yBAAKC,UAAU,WACZD,I,wCCYM,GAAEE,OA1BF,WAEX,OADgBC,IAAMC,IAHV,gBAIGC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAwBpBC,OArBX,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,6DACPC,EAAUR,IAAMS,KARV,eAQwBH,GADvB,SAEUE,EAFV,cAEPL,EAFO,yBAGJA,EAASC,MAHL,2CAAH,sDAqBmBM,OAhBhB,SAAC1B,EAAIsB,GAElB,OADgBN,IAAMW,IAAO,gCAAb,WAAgD3B,GAAMsB,GACvDJ,MACX,SAAAC,GAAQ,OAAEA,EAASC,SAacQ,WARpB,SAAC5B,EAAIH,EAAMyB,GAE1B,GADwBO,OAAOC,QAAP,uCAA+CjC,EAA/C,qBAG1B,OADgBmB,IAAMe,OAAN,UAvBJ,eAuBI,YAA2B/B,GAAMsB,GAClCJ,MAAK,SAAAC,GAAQ,OAAIA,OCqErBa,EAvFH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTzC,EADS,KACA0C,EADA,OAEcD,mBAAS,IAFvB,mBAETE,EAFS,KAEAC,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTI,EAHS,KAGEC,EAHF,OAIcL,oBAAS,GAJvB,mBAITM,EAJS,KAIAC,EAJA,OAKkBP,mBAAS,IAL3B,mBAKTQ,EALS,KAKEC,EALF,OAMwBT,mBAAS,CAACpB,QAAS,GAAIL,KAAM,KANrD,mBAMTmC,EANS,KAMKC,EANL,KAQlBC,qBAAU,WACJC,EAAe/B,SACdG,MAAK,SAAA6B,GACJb,EAAWa,QAEd,IACH,IAUMC,EAAgBT,EAAU/C,EAAUA,EAAQkB,QAAO,SAAAf,GAAM,OAAIA,EAAOE,KAAKoD,SAASR,IAAc9C,EAAOE,KAAKqD,cAAcD,SAASR,EAAUS,kBAkDnJ,OACE,oCACE,yCACA,kBAAC,EAAD,CAAQxC,OAAQ+B,EAAW9B,eAzDR,SAACwC,GACtBX,GAAW,GACXE,EAAaS,EAAIC,OAAO9C,UAwDtB,yCACA,kBAAC,EAAD,CAAYJ,eApDK,SAACiD,GAEpB,GADAA,EAAIE,iBACClB,GAAYE,EAAjB,CACA,IAAMiB,EAAY,CAChBzD,KAAMsC,EACNrC,OAAQuC,GAEV,GARwB7C,EAAQ+D,MAAK,SAACC,GAAD,OAAUA,EAAK3D,OAASsC,MAS3D,GAAGN,OAAOC,QAAP,qFAAqG,CACtG,IAAM2B,EAAiBjE,EAAQkE,MAAK,SAAA/D,GAAM,OAAIA,EAAOE,OAASyD,EAAUzD,QAChEiD,EACKpB,OAAO+B,EAAezD,GAD3B,2BACmCyD,GADnC,IACmD3D,OAAOwD,EAAUxD,UAC/DoB,MAAM,SAAAE,GAAI,OAAIc,EAAW1C,EAAQE,KAAK,SAAAC,GAAM,OAAIA,EAAOK,KAAOoB,EAAKpB,GAAKL,EAASyB,KAAM,OACxFwB,EAAgB,2BACXD,GADU,IACI9B,QAAQ,cAAD,OAAgB4C,EAAe5D,KAA/B,qCAIxCiD,EAAezB,OAAOiC,GACvBpC,MAAK,SAAAC,GACJe,EAAW1C,EAAQmE,OAAOxC,OAE5ByB,EAAgB,2BACXD,GADU,IACI9B,QAAQ,GAAD,OAAKyC,EAAUzD,KAAf,6BAG1B+D,YAAW,WACThB,EAAgB,2BAAID,GAAL,IAAmB9B,QAAS,GAAIL,KAAM,QACpD,KACH4B,EAAW,IACXE,EAAa,MAsB+BzC,KAAMsC,EAAShC,aAjEpC,SAACgD,GACxBf,EAAWe,EAAIC,OAAO9C,QAgEqER,OAAQuC,EAAWjC,eA9DrF,SAAC+C,GAC1Bb,EAAaa,EAAIC,OAAO9C,UA8DtB,uCACA,kBAAC,EAAD,CAASd,QAASwD,EAAevD,aAtBlB,SAACO,EAAIH,GACpBiD,EAAelB,WAAW5B,EAAIH,IAClCiD,EAAelB,WAAW5B,EAAIH,GAC7BqB,MAAK,WACJgB,EAAW1C,EAAQkB,QAAO,SAAAf,GAAM,OAAIA,EAAOK,KAAOA,SAEnD6D,OAAM,SAAAC,GACLlB,EAAgB,2BAAID,GAAL,IAAmB9B,QAAQ,GAAD,OAAKhB,EAAL,6BAAsCW,KAAM,WACrF0B,EAAW1C,EAAQkB,QAAO,SAAAf,GAAM,OAAIA,EAAOE,OAASA,MACpD+D,YAAW,WACThB,EAAgB,2BAAID,GAAL,IAAmB9B,QAAS,GAAIL,KAAM,QACpD,WAYD,kBAAC,EAAD,CAAcK,QAAS8B,EAAa9B,QAASL,KAAMmC,EAAanC,S,MCnFtEuD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.f26fda27.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({ persons, handleDelete }) => {\n  return (\n    persons.map(\n      (person) =>\n        <p key={person.name}>{person.name} {person.number} <button onClick={() => handleDelete(person.id, person.name)}>delete</button></p>\n    )\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ onSubmitAction, name, onChangeName, number, onChangeNumber }) => {\n  return (\n    <form onSubmit={onSubmitAction}>\n      <div>\n        name: <input value={name}\n          onChange={onChangeName} />\n      </div>\n      <div>number: <input value={number}\n        onChange={onChangeNumber} /></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ filter, onChangeAction }) => {\n  return (\n    <div>filter shown with <input value={filter}\n      onChange={onChangeAction} /></div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n    if (message === '') {\n      return null\n    }\n    if (type === 'error') {\n        return (\n          <div className={`message error`}>\n          {message}\n        </div>\n        )\n      }\n      else {\n  \n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n      }\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = async newObject => {\n    const request = axios.post(baseUrl, newObject)\n    const response = await request\n      return response.data\n  }\n  const update = (id, newObject) => {\n    const request = axios.put(`${'http://localhost:3001/persons'}/${id}`, newObject)\n    return request.then(\n        response=>response.data\n    )\n}\n\n  \n  const deleteItem = (id, name, newObject) => {\n      const confirmDeleting = window.confirm(`Do you really want to delete ${name} from phonebook?`);\n      if(confirmDeleting) {\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response)\n    }\n  }\n\nexport default { getAll, create, update, deleteItem }\n","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [newFilter, setNewFilter] = useState('')\n  const [notification, setNotification] = useState({message: '', type: ''})\n\nuseEffect(() => {\n      personsService.getAll()\n      .then(personsData => {\n        setPersons(personsData)\n      })\n  }, [])\n  const handleNameChange = (evt) => {\n    setNewName(evt.target.value)\n  }\n  const handleNumberChange = (evt) => {\n    setNewNumber(evt.target.value)\n  }\n  const setFilterValue = (evt) => {\n    setShowAll(false)\n    setNewFilter(evt.target.value)\n  }\n  const personsToShow = showAll ? persons : persons.filter(person => person.name.includes(newFilter) || person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  const isDuplicate = () => persons.some((item) => item.name === newName)\n  const addNewPerson = (evt) => {\n    evt.preventDefault();\n    if (!newName || !newNumber) return\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if (isDuplicate()) {\n      if(window.confirm(`This person is already added to phonebook. Replace the old number with a new one?`)) {\n        const existingPerson = persons.find(person => person.name === newPerson.name)\n                personsService\n                    .update(existingPerson.id, {...existingPerson, number:newPerson.number })\n                    .then( data => setPersons(persons.map( person => person.id !== data.id ? person : data, false)) )\n                    setNotification({\n                      ...notification, message: `Number for ${existingPerson.name} is changed successfully`\n                    })\n                  }\n    } else {\n      personsService.create(newPerson)\n    .then(response => {\n      setPersons(persons.concat(response))\n    })\n    setNotification({\n      ...notification, message: `${newPerson.name} is added to phonebook`\n    })\n    }\n    setTimeout(() => {\n      setNotification({...notification, message: '', type: ''})\n    }, 5000)\n    setNewName('')\n    setNewNumber('')\n  }\nconst handleDelete = (id, name) => {\n  if(!personsService.deleteItem(id, name)) return\n  personsService.deleteItem(id, name)\n  .then(() => {\n    setPersons(persons.filter(person => person.id !== id));\n  })\n  .catch(error => {\n    setNotification({...notification, message: `${name} has already been deleted`, type: 'error'})\n    setPersons(persons.filter(person => person.name !== name))\n    setTimeout(() => {\n      setNotification({...notification, message: '', type: ''})\n    }, 5000)\n  })\n}\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Filter filter={newFilter} onChangeAction={setFilterValue} />\n      <h3>Add a new</h3>\n      <PersonForm onSubmitAction={addNewPerson} name={newName} onChangeName={handleNameChange} number={newNumber} onChangeNumber={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n      <Notification message={notification.message} type={notification.type} />\n    </>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}